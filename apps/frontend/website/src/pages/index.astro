---
import Hero from "@/components/home/Hero.astro";
import SocialMediaVsCurator from "@/components/home/SocialMediaVsCurator.astro";
import { getLangFromUrl, useTranslations } from "@/i18n/utils";
import Base from "@/layouts/Base.astro";
import { flagsmith } from "@/lib/flagsmith";
import "@repo/ui-web/globals.css";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const flags = await flagsmith.getEnvironmentFlags();

const isHeroEnabled = flags.isFeatureEnabled("home.hero");
const isComparisonEnabled = flags.isFeatureEnabled("home.comparison");
---

<Base title="Home">
  {isHeroEnabled && <Hero />}

  {isComparisonEnabled && <SocialMediaVsCurator />}
</Base>
